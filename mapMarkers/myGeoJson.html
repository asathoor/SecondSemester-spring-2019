<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8' />
  <title></title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }

    /* the marker styles */
    .marker {
      background-image: url('mapbox-icon.png');
      background-color: lime;
      /* if you don't have the image you will get some color */
      background-size: cover;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      cursor: pointer;
    }

    /* popup styles */
    .mapboxgl-popup {
      max-width: 200px;
    }

    .mapboxgl-popup-content {
      text-align: center;
      font-family: 'Open Sans', sans-serif;
    }
  </style>
</head>

<body>

  <div id='map'></div>

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYXNhdGhvb3IiLCJhIjoiY2oyd3hlbzU3MDA5NzJxbm9iMjczanJndCJ9.HahDB7Z1rrD5THIYQh6t4g';

    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/asathoor/cjfktdidngvx92ro7quci300o',
      center: [10.21, 56.14],
      zoom: 10
    });

    // step: geojson data
    var geojson = {
      "features": [{
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Hørhaven på bakken"
          },
          "geometry": {
            "coordinates": [
              10.229495,
              56.11288
            ],
            "type": "Point"
          },
          "id": "0167656f301ca7f6c4b55e7880735f7b"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Lisbjerg gammel skov"
          },
          "geometry": {
            "coordinates": [
              10.16946,
              56.235431
            ],
            "type": "Point"
          },
          "id": "02b2bfc976ce505c7460a8252d322b2a"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Moesgaard Skov"
          },
          "geometry": {
            "coordinates": [
              10.232839,
              56.097863
            ],
            "type": "Point"
          },
          "id": "19772aa295924c2718ad9fa580c5c467"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Dagshelter i Hørhaven"
          },
          "geometry": {
            "coordinates": [
              10.230217,
              56.113568
            ],
            "type": "Point"
          },
          "id": "3d79438f8e92980ed66afd49069b960a"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Madpakkehus Delta i Skjoldhøjkilen"
          },
          "geometry": {
            "coordinates": [
              10.111871,
              56.171274
            ],
            "type": "Point"
          },
          "id": "4022d895f082aab0217f3ae49bc1fb59"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Madpakkehus Epsilon i Skjoldhøjkilen"
          },
          "geometry": {
            "coordinates": [
              10.104946,
              56.171661
            ],
            "type": "Point"
          },
          "id": "760b29a807d2847304c6e44f72bdec0a"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Vilhelmsborg Skov"
          },
          "geometry": {
            "coordinates": [
              10.197506,
              56.066575
            ],
            "type": "Point"
          },
          "id": "7680b515c871058ac83318c5b5092110"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Åbo Skov, 2 shelters"
          },
          "geometry": {
            "coordinates": [
              10.020934,
              56.128332
            ],
            "type": "Point"
          },
          "id": "829c47a0d95608648e3ee132119ff7de"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Brendstrup Skov"
          },
          "geometry": {
            "coordinates": [
              10.161816,
              56.184156
            ],
            "type": "Point"
          },
          "id": "8b077540a7fec3d14aa78938d32562fd"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelterplads ved Egå Engsø - fem stk."
          },
          "geometry": {
            "coordinates": [
              10.220277,
              56.213604
            ],
            "type": "Point"
          },
          "id": "9413a5c36b2e29e6c5b485c365c138c4"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Mollerup Skov"
          },
          "geometry": {
            "coordinates": [
              10.202737,
              56.206293
            ],
            "type": "Point"
          },
          "id": "ab8d134a5cb4966df9c6eb73307f942f"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Hørhaven i skoven"
          },
          "geometry": {
            "coordinates": [
              10.22718,
              56.11467
            ],
            "type": "Point"
          },
          "id": "b1e92ae3a68c3ad1944129a7e2379c4e"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Madpakkehus Alfa i Skjoldhøjkilen"
          },
          "geometry": {
            "coordinates": [
              10.133973,
              56.169204
            ],
            "type": "Point"
          },
          "id": "bce18e6bc790eb170bd4243c7f7a5d5a"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter ved Mariendal Strand"
          },
          "geometry": {
            "coordinates": [
              10.267364,
              56.051977
            ],
            "type": "Point"
          },
          "id": "bed631d87903f2ef34b36a2420150077"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Madpakkehus i Æblehaven"
          },
          "geometry": {
            "coordinates": [
              10.230176,
              56.239258
            ],
            "type": "Point"
          },
          "id": "cbbd8c5de047edfaf1242879ebd0b904"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Madpakkehus Gamma i Skjoldhøjkilen"
          },
          "geometry": {
            "coordinates": [
              10.124992,
              56.169994
            ],
            "type": "Point"
          },
          "id": "e4a9a69bb18b87186af6782600a27ccf"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelterplads i Lisbjerg ny skov - fem stk."
          },
          "geometry": {
            "coordinates": [
              10.171774,
              56.226818
            ],
            "type": "Point"
          },
          "id": "ea4921466cd1eca7baa8fec84d0eda71"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter ved Moesgaard Strand"
          },
          "geometry": {
            "coordinates": [
              10.244415,
              56.088373
            ],
            "type": "Point"
          },
          "id": "f122373054ae40470b7659039949e81d"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter i Gjellerup Skov"
          },
          "geometry": {
            "coordinates": [
              10.142253,
              56.150408
            ],
            "type": "Point"
          },
          "id": "f3189b18c6bf7074cb8256fa1d326353"
        },
        {
          "type": "Feature",
          "properties": {
            "Bookbar": "Ja",
            "Type": "Shelters",
            "Navn": "Shelter på Vestereng"
          },
          "geometry": {
            "coordinates": [
              10.183249,
              56.186809
            ],
            "type": "Point"
          },
          "id": "f62942c2cfa944a2a9d8766371f2fb3c"
        }
      ],
      "type": "FeatureCollection"
    };

    console.log(geojson);

    // add the markers to the map
    // add markers to map
    // note: it is a loop
    geojson.features.forEach(function(marker) {

      // create a HTML element for each feature
      var el = document.createElement('div');
      el.className = 'marker';

      // add the pop up code below
      new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .setPopup(new mapboxgl.Popup({
            offset: 25
          }) // add popups
          .setHTML('<h3>' + marker.properties.Navn + '</h3>'))
        .addTo(map);


      // make a marker for each feature and add to the map
      new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
    });
  </script>

</body>

</html>
